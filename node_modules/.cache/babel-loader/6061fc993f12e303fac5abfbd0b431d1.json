{"ast":null,"code":"var _jsxFileName = \"/Users/am/Downloads/sluchajfun-main 2/src/components/Player/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport YouTube from \"react-youtube\";\nimport { IoPlay } from \"react-icons/io5\";\nimport { event } from \"react-ga\";\nimport { playTimes } from \"../../constants\";\nimport * as Styled from \"./index.styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Player(_ref) {\n  _s();\n\n  let {\n    id,\n    currentTry\n  } = _ref;\n  const opts = {\n    width: \"0\",\n    height: \"0\"\n  }; // react-youtube doesn't export types for this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  const playerRef = React.useRef(null);\n  const currentPlayTime = playTimes[currentTry];\n  const [play, setPlay] = React.useState(false);\n  const [currentTime, setCurrentTime] = React.useState(0);\n  const [isReady, setIsReady] = React.useState(false);\n  React.useEffect(() => {\n    setInterval(() => {\n      var _playerRef$current;\n\n      (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.internalPlayer.getCurrentTime().then(time => {\n        setCurrentTime(time);\n      });\n    }, 250);\n  }, []);\n  React.useEffect(() => {\n    if (play) {\n      if (currentTime * 1000 >= currentPlayTime) {\n        var _playerRef$current2, _playerRef$current3;\n\n        (_playerRef$current2 = playerRef.current) === null || _playerRef$current2 === void 0 ? void 0 : _playerRef$current2.internalPlayer.pauseVideo();\n        (_playerRef$current3 = playerRef.current) === null || _playerRef$current3 === void 0 ? void 0 : _playerRef$current3.internalPlayer.seekTo(0);\n        setPlay(false);\n      }\n    }\n  }, [play, currentTime]); // don't call play video each time currentTime changes\n\n  const startPlayback = React.useCallback(() => {\n    var _playerRef$current4;\n\n    (_playerRef$current4 = playerRef.current) === null || _playerRef$current4 === void 0 ? void 0 : _playerRef$current4.internalPlayer.playVideo();\n    setPlay(true);\n    event({\n      category: \"Player\",\n      action: \"Played song\"\n    });\n  }, []);\n  const setReady = React.useCallback(() => {\n    setIsReady(true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(YouTube, {\n      opts: opts,\n      videoId: id,\n      onReady: setReady,\n      ref: playerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), isReady ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Styled.ProgressBackground, {\n        children: [currentTime !== 0 && /*#__PURE__*/_jsxDEV(Styled.Progress, {\n          value: currentTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 35\n        }, this), playTimes.map(playTime => /*#__PURE__*/_jsxDEV(Styled.Separator, {\n          style: {\n            left: `${playTime / 16000 * 100}%`\n          }\n        }, playTime, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Styled.TimeStamps, {\n        children: [/*#__PURE__*/_jsxDEV(Styled.TimeStamp, {\n          children: \"1s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Styled.TimeStamp, {\n          children: \"16s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IoPlay, {\n        style: {\n          cursor: \"pointer\"\n        },\n        size: 40,\n        color: \"#fff\",\n        onClick: startPlayback\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0141adowanie odtwarzacza...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Player, \"uxjiGK9/m2WDhtbL5VPWiCLQamQ=\");\n\n_c = Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","YouTube","IoPlay","event","playTimes","Styled","Player","id","currentTry","opts","width","height","playerRef","useRef","currentPlayTime","play","setPlay","useState","currentTime","setCurrentTime","isReady","setIsReady","useEffect","setInterval","current","internalPlayer","getCurrentTime","then","time","pauseVideo","seekTo","startPlayback","useCallback","playVideo","category","action","setReady","map","playTime","left","cursor"],"sources":["/Users/am/Downloads/sluchajfun-main 2/src/components/Player/index.tsx"],"sourcesContent":["import React from \"react\";\nimport YouTube from \"react-youtube\";\nimport { IoPlay } from \"react-icons/io5\";\nimport { event } from \"react-ga\";\n\nimport { playTimes } from \"../../constants\";\n\nimport * as Styled from \"./index.styled\";\n\ninterface Props {\n  id: string;\n  currentTry: number;\n}\n\nexport function Player({ id, currentTry }: Props) {\n  const opts = {\n    width: \"0\",\n    height: \"0\",\n  };\n\n  // react-youtube doesn't export types for this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const playerRef = React.useRef<any>(null);\n\n  const currentPlayTime = playTimes[currentTry];\n\n  const [play, setPlay] = React.useState<boolean>(false);\n\n  const [currentTime, setCurrentTime] = React.useState<number>(0);\n\n  const [isReady, setIsReady] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    setInterval(() => {\n      playerRef.current?.internalPlayer\n        .getCurrentTime()\n        .then((time: number) => {\n          setCurrentTime(time);\n        });\n    }, 250);\n  }, []);\n\n  React.useEffect(() => {\n    if (play) {\n      if (currentTime * 1000 >= currentPlayTime) {\n        playerRef.current?.internalPlayer.pauseVideo();\n        playerRef.current?.internalPlayer.seekTo(0);\n        setPlay(false);\n      }\n    }\n  }, [play, currentTime]);\n\n  // don't call play video each time currentTime changes\n  const startPlayback = React.useCallback(() => {\n    playerRef.current?.internalPlayer.playVideo();\n    setPlay(true);\n    event({\n      category: \"Player\",\n      action: \"Played song\",\n    });\n  }, []);\n\n  const setReady = React.useCallback(() => {\n    setIsReady(true);\n  }, []);\n\n  return (\n    <>\n      <YouTube opts={opts} videoId={id} onReady={setReady} ref={playerRef} />\n      {isReady ? (\n        <>\n          <Styled.ProgressBackground>\n            {currentTime !== 0 && <Styled.Progress value={currentTime} />}\n            {playTimes.map((playTime) => (\n              <Styled.Separator\n                style={{ left: `${(playTime / 16000) * 100}%` }}\n                key={playTime}\n              />\n            ))}\n          </Styled.ProgressBackground>\n          <Styled.TimeStamps>\n            <Styled.TimeStamp>1s</Styled.TimeStamp>\n            <Styled.TimeStamp>16s</Styled.TimeStamp>\n          </Styled.TimeStamps>\n          <IoPlay\n            style={{ cursor: \"pointer\" }}\n            size={40}\n            color=\"#fff\"\n            onClick={startPlayback}\n          />\n        </>\n      ) : (\n        <p>≈Åadowanie odtwarzacza...</p>\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}