{"ast":null,"code":"import _slicedToArray from\"/Users/am/Desktop/sluchajfun-main 2 2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{event}from\"react-ga\";import{IoSearch}from\"react-icons/io5\";import{searchSong}from\"../../helpers\";import*as Styled from\"./index.styled\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export function Search(_ref){var currentTry=_ref.currentTry,setSelectedSong=_ref.setSelectedSong;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),results=_React$useState4[0],setResults=_React$useState4[1];React.useEffect(function(){if(value){setResults(searchSong(value));}else if(value===\"\"){setResults([]);}},[value]);// clear value on selection\nReact.useEffect(function(){setValue(\"\");},[currentTry]);return/*#__PURE__*/_jsxs(Styled.Container,{children:[/*#__PURE__*/_jsx(Styled.ResultsContainer,{children:results.map(function(song){return/*#__PURE__*/_jsx(Styled.Result,{onClick:function onClick(){setSelectedSong(song);setValue(\"\".concat(song.artist,\" - \").concat(song.name));setResults([]);event({category:\"Player\",action:\"Chose song\",label:\"\".concat(song.artist,\" - \").concat(song.name)});},children:/*#__PURE__*/_jsxs(Styled.ResultText,{children:[song.artist,\" - \",song.name]})},song.youtubeId);})}),/*#__PURE__*/_jsx(Styled.SearchContainer,{children:/*#__PURE__*/_jsxs(Styled.SearchPadding,{children:[/*#__PURE__*/_jsx(IoSearch,{size:20}),/*#__PURE__*/_jsx(Styled.Input,{onChange:function onChange(e){return setValue(e.currentTarget.value);},placeholder:\"Know it? Search for the artist/title\",value:value})]})})]});}","map":{"version":3,"sources":["/Users/am/Desktop/sluchajfun-main 2 2/src/components/Search/index.tsx"],"names":["React","event","IoSearch","searchSong","Styled","Search","currentTry","setSelectedSong","useState","value","setValue","results","setResults","useEffect","map","song","artist","name","category","action","label","youtubeId","e","currentTarget"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,UAAtB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,UAAT,KAA2B,eAA3B,CAGA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,gBAAxB,C,wFAOA,MAAO,SAASC,CAAAA,MAAT,MAAwD,IAAtCC,CAAAA,UAAsC,MAAtCA,UAAsC,CAA1BC,eAA0B,MAA1BA,eAA0B,CAC7D,oBAA0BP,KAAK,CAACQ,QAAN,CAAuB,EAAvB,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,qBAA8BV,KAAK,CAACQ,QAAN,CAAuB,EAAvB,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBAEAZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CACpB,GAAIJ,KAAJ,CAAW,CACTG,UAAU,CAACT,UAAU,CAACM,KAAD,CAAX,CAAV,CACD,CAFD,IAEO,IAAIA,KAAK,GAAK,EAAd,CAAkB,CACvBG,UAAU,CAAC,EAAD,CAAV,CACD,CACF,CAND,CAMG,CAACH,KAAD,CANH,EAQA;AACAT,KAAK,CAACa,SAAN,CAAgB,UAAM,CACpBH,QAAQ,CAAC,EAAD,CAAR,CACD,CAFD,CAEG,CAACJ,UAAD,CAFH,EAIA,mBACE,MAAC,MAAD,CAAQ,SAAR,yBACE,KAAC,MAAD,CAAQ,gBAAR,WACGK,OAAO,CAACG,GAAR,CAAY,SAACC,IAAD,qBACX,KAAC,MAAD,CAAQ,MAAR,EAEE,OAAO,CAAE,kBAAM,CACbR,eAAe,CAACQ,IAAD,CAAf,CACAL,QAAQ,WAAIK,IAAI,CAACC,MAAT,eAAqBD,IAAI,CAACE,IAA1B,EAAR,CACAL,UAAU,CAAC,EAAD,CAAV,CAEAX,KAAK,CAAC,CACJiB,QAAQ,CAAE,QADN,CAEJC,MAAM,CAAE,YAFJ,CAGJC,KAAK,WAAKL,IAAI,CAACC,MAAV,eAAsBD,IAAI,CAACE,IAA3B,CAHD,CAAD,CAAL,CAKD,CAZH,uBAcE,MAAC,MAAD,CAAQ,UAAR,YACGF,IAAI,CAACC,MADR,OACmBD,IAAI,CAACE,IADxB,GAdF,EACOF,IAAI,CAACM,SADZ,CADW,EAAZ,CADH,EADF,cAuBE,KAAC,MAAD,CAAQ,eAAR,wBACE,MAAC,MAAD,CAAQ,aAAR,yBACE,KAAC,QAAD,EAAU,IAAI,CAAE,EAAhB,EADF,cAEE,KAAC,MAAD,CAAQ,KAAR,EACE,QAAQ,CAAE,kBAACC,CAAD,QAAOZ,CAAAA,QAAQ,CAACY,CAAC,CAACC,aAAF,CAAgBd,KAAjB,CAAf,EADZ,CAEE,WAAW,CAAC,sCAFd,CAGE,KAAK,CAAEA,KAHT,EAFF,GADF,EAvBF,GADF,CAoCD","sourcesContent":["import React from \"react\";\nimport { event } from \"react-ga\";\nimport { IoSearch } from \"react-icons/io5\";\nimport { searchSong } from \"../../helpers\";\nimport { Song } from \"../../types/song\";\n\nimport * as Styled from \"./index.styled\";\n\ninterface Props {\n  currentTry: number;\n  setSelectedSong: React.Dispatch<React.SetStateAction<Song | undefined>>;\n}\n\nexport function Search({ currentTry, setSelectedSong }: Props) {\n  const [value, setValue] = React.useState<string>(\"\");\n  const [results, setResults] = React.useState<Song[]>([]);\n\n  React.useEffect(() => {\n    if (value) {\n      setResults(searchSong(value));\n    } else if (value === \"\") {\n      setResults([]);\n    }\n  }, [value]);\n\n  // clear value on selection\n  React.useEffect(() => {\n    setValue(\"\");\n  }, [currentTry]);\n\n  return (\n    <Styled.Container>\n      <Styled.ResultsContainer>\n        {results.map((song) => (\n          <Styled.Result\n            key={song.youtubeId}\n            onClick={() => {\n              setSelectedSong(song);\n              setValue(`${song.artist} - ${song.name}`);\n              setResults([]);\n\n              event({\n                category: \"Player\",\n                action: \"Chose song\",\n                label: `${song.artist} - ${song.name}`,\n              });\n            }}\n          >\n            <Styled.ResultText>\n              {song.artist} - {song.name}\n            </Styled.ResultText>\n          </Styled.Result>\n        ))}\n      </Styled.ResultsContainer>\n      <Styled.SearchContainer>\n        <Styled.SearchPadding>\n          <IoSearch size={20} />\n          <Styled.Input\n            onChange={(e) => setValue(e.currentTarget.value)}\n            placeholder=\"Know it? Search for the artist/title\"\n            value={value}\n          />\n        </Styled.SearchPadding>\n      </Styled.SearchContainer>\n    </Styled.Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}