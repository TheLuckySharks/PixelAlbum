{"ast":null,"code":"var _jsxFileName = \"/Users/am/Downloads/sluchajfun-main 2/src/components/Player/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport YouTube from \"react-youtube\";\nimport { IoPlay } from \"react-icons/io5\";\nimport { event } from \"react-ga\";\nimport { playTimes } from \"../../constants\";\nimport * as Styled from \"./index.styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Player(_ref) {\n  _s();\n\n  let {\n    id,\n    currentTry\n  } = _ref;\n  const opts = {\n    width: \"0\",\n    height: \"0\"\n  }; // react-youtube doesn't export types for this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  const playerRef = React.useRef(null);\n  const currentPlayTime = playTimes[currentTry];\n  const [play, setPlay] = React.useState(false);\n  const [currentTime, setCurrentTime] = React.useState(0);\n  const [isReady, setIsReady] = React.useState(false);\n  React.useEffect(() => {\n    setInterval(() => {\n      var _playerRef$current;\n\n      (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.internalPlayer.getCurrentTime().then(time => {\n        setCurrentTime(time);\n      });\n    }, 250);\n  }, []);\n  React.useEffect(() => {\n    if (play) {\n      if (currentTime * 1000 >= currentPlayTime) {\n        var _playerRef$current2, _playerRef$current3;\n\n        (_playerRef$current2 = playerRef.current) === null || _playerRef$current2 === void 0 ? void 0 : _playerRef$current2.internalPlayer.pauseVideo();\n        (_playerRef$current3 = playerRef.current) === null || _playerRef$current3 === void 0 ? void 0 : _playerRef$current3.internalPlayer.seekTo(0);\n        setPlay(false);\n      }\n    }\n  }, [play, currentTime]); // don't call play video each time currentTime changes\n\n  const startPlayback = React.useCallback(() => {\n    var _playerRef$current4;\n\n    (_playerRef$current4 = playerRef.current) === null || _playerRef$current4 === void 0 ? void 0 : _playerRef$current4.internalPlayer.playVideo();\n    setPlay(true);\n    event({\n      category: \"Player\",\n      action: \"Played song\"\n    });\n  }, []);\n  const setReady = React.useCallback(() => {\n    setIsReady(true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(YouTube, {\n      opts: opts,\n      videoId: id,\n      onReady: setReady,\n      ref: playerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), isReady ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Styled.ProgressBackground, {\n        children: [currentTime !== 0 && /*#__PURE__*/_jsxDEV(Styled.Progress, {\n          value: currentTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 35\n        }, this), playTimes.map(playTime => /*#__PURE__*/_jsxDEV(Styled.Separator, {\n          style: {\n            left: `${playTime / 16000 * 100}%`\n          }\n        }, playTime, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Styled.TimeStamps, {\n        children: [/*#__PURE__*/_jsxDEV(Styled.TimeStamp, {\n          children: \"1s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Styled.TimeStamp, {\n          children: \"16s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IoPlay, {\n        style: {\n          cursor: \"pointer\"\n        },\n        size: 40,\n        color: \"#fff\",\n        onClick: startPlayback\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading the player...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Player, \"uxjiGK9/m2WDhtbL5VPWiCLQamQ=\");\n\n_c = Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["/Users/am/Downloads/sluchajfun-main 2/src/components/Player/index.tsx"],"names":["React","YouTube","IoPlay","event","playTimes","Styled","Player","id","currentTry","opts","width","height","playerRef","useRef","currentPlayTime","play","setPlay","useState","currentTime","setCurrentTime","isReady","setIsReady","useEffect","setInterval","current","internalPlayer","getCurrentTime","then","time","pauseVideo","seekTo","startPlayback","useCallback","playVideo","category","action","setReady","map","playTime","left","cursor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport YouTube from \"react-youtube\";\nimport { IoPlay } from \"react-icons/io5\";\nimport { event } from \"react-ga\";\n\nimport { playTimes } from \"../../constants\";\n\nimport * as Styled from \"./index.styled\";\n\ninterface Props {\n  id: string;\n  currentTry: number;\n}\n\nexport function Player({ id, currentTry }: Props) {\n  const opts = {\n    width: \"0\",\n    height: \"0\",\n  };\n\n  // react-youtube doesn't export types for this\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const playerRef = React.useRef<any>(null);\n\n  const currentPlayTime = playTimes[currentTry];\n\n  const [play, setPlay] = React.useState<boolean>(false);\n\n  const [currentTime, setCurrentTime] = React.useState<number>(0);\n\n  const [isReady, setIsReady] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    setInterval(() => {\n      playerRef.current?.internalPlayer\n        .getCurrentTime()\n        .then((time: number) => {\n          setCurrentTime(time);\n        });\n    }, 250);\n  }, []);\n\n  React.useEffect(() => {\n    if (play) {\n      if (currentTime * 1000 >= currentPlayTime) {\n        playerRef.current?.internalPlayer.pauseVideo();\n        playerRef.current?.internalPlayer.seekTo(0);\n        setPlay(false);\n      }\n    }\n  }, [play, currentTime]);\n\n  // don't call play video each time currentTime changes\n  const startPlayback = React.useCallback(() => {\n    playerRef.current?.internalPlayer.playVideo();\n    setPlay(true);\n    event({\n      category: \"Player\",\n      action: \"Played song\",\n    });\n  }, []);\n\n  const setReady = React.useCallback(() => {\n    setIsReady(true);\n  }, []);\n\n  return (\n    <>\n      <YouTube opts={opts} videoId={id} onReady={setReady} ref={playerRef} />\n      {isReady ? (\n        <>\n          <Styled.ProgressBackground>\n            {currentTime !== 0 && <Styled.Progress value={currentTime} />}\n            {playTimes.map((playTime) => (\n              <Styled.Separator\n                style={{ left: `${(playTime / 16000) * 100}%` }}\n                key={playTime}\n              />\n            ))}\n          </Styled.ProgressBackground>\n          <Styled.TimeStamps>\n            <Styled.TimeStamp>1s</Styled.TimeStamp>\n            <Styled.TimeStamp>16s</Styled.TimeStamp>\n          </Styled.TimeStamps>\n          <IoPlay\n            style={{ cursor: \"pointer\" }}\n            size={40}\n            color=\"#fff\"\n            onClick={startPlayback}\n          />\n        </>\n      ) : (\n        <p>Loading the player...</p>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}